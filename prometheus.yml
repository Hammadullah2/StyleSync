global:
  scrape_interval: 5s      # how often to scrape metrics
  evaluation_interval: 5s  # how often to evaluate rules

scrape_configs:
  # Backend / RAG API
  - job_name: 'backend'
    static_configs:
      - targets: ['backend:8000']  # FastAPI service port with /metrics

  # Evidently service for data drift / monitoring
  - job_name: 'evidently'
    static_configs:
      - targets: ['evidently:7000']  # Port exposing metrics

  # MLflow (optional, if you expose metrics like experiment count)
  - job_name: 'mlflow'
    static_configs:
      - targets: ['mlflow:5000']

  # Guardrails / safety metrics (optional, if exposed as a separate endpoint)
  - job_name: 'guardrails'
    static_configs:
      - targets: ['backend:8000']  # Assuming guardrail events are logged via backend
